function F(t,n=44100){let r=new(window.AudioContext||window.webkitAudioContext),o=r.createBuffer(1,t.length,n);o.copyToChannel(t,0,0);let e=r.createBufferSource();e.buffer=o,e.connect(r.destination),e.start()}function p(t){t=t.replace(/^#/,"");let n=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16);return(t.length===8?parseInt(t.slice(6,8),16):255)<<24|o<<16|r<<8|n}function f(t){let n=(t&255).toString(16).padStart(2,"0"),r=(t>>>8&255).toString(16).padStart(2,"0"),o=(t>>>16&255).toString(16).padStart(2,"0"),e=(t>>>24&255).toString(16).padStart(2,"0");return`#${n}${r}${o}${e}`}function x(t,n,r,o=255){return(o&255)<<24|(r&255)<<16|(n&255)<<8|t&255}function g(t){return[t&255,t>>>8&255,t>>>16&255,t>>>24&255]}var c={128:new Float32Array(128),256:new Float32Array(256),384:new Float32Array(384),512:new Float32Array(512)};function i(t,n,r){if(!(r in c))throw new Error(`Invalid block size: ${r}`);let o=c[r];if(o.length!==r)throw new Error("Buffer length mismatch");o.fill(0);for(let e of t)for(let a=0;a<r;a++){let l=n+a;l<e.length&&(o[a]+=e[l])}for(let e=0;e<r;e++){let a=o[e];o[e]=a>1?1:a<-1?-1:a}return o}function b(t,n){if(t.length===0)return new Float32Array(0);let r=Math.max(...t.map(a=>a.length)),o=Math.ceil(r/n),e=new Float32Array(r);for(let a=0;a<o;a++){let l=a*n,u=i(t,l,n);for(let s=0;s<u.length&&l+s<r;s++)e[l+s]=u[s]}return e}function m(t,n){for(let r=0;r<t.length;r++)t[r]*=n,t[r]=Math.max(-1,Math.min(1,t[r]))}function d(t,n){let r=Math.pow(10,n/20);m(t,r)}function h(t){let n=0;for(let e=0;e<t.length;e++)n+=t[e]*t[e];let r=Math.sqrt(n/t.length);return 20*Math.log10(Math.max(r,1e-12))}function y(t,n){return t/n}export{m as gainClamped,d as gainDecibels,p as hexToPacked,x as packRGBA,f as packedToHex,F as playSamples,h as rmsGetDecibels,y as sampleToSeconds,i as sumBlocks,b as sumTracks,g as unpackRGBA};
